// ä¸­æ–‡è¾“å…¥æ³•è¡¨æƒ…åˆ«åè§£æ â†’ æ ‡å‡† Emoji
// ç”¨é€”ï¼šåœ¨ `polymet/components/source-panel.tsx` ä¸ `polymet/components/comments-analysis.tsx` ä¸­æ¸²æŸ“è¯„è®ºæ–‡æœ¬

// å¸¸è§åˆ«ååˆ° Emoji çš„æ˜ å°„ï¼ˆå¯æ ¹æ®åº“å†…ç»Ÿè®¡ç»§ç»­è¡¥å……ï¼‰
const aliasToEmojiMap: Record<string, string> = {
  // æƒ…ç»ªä¸è¡¨æƒ…
  "æ‚è„¸": "ğŸ¤¦",
  "æ‚è‡‰": "ğŸ¤¦",
  "æ³ªä¸æˆå£°": "ğŸ˜­",
  "æ³£ä¸æˆå£°": "ğŸ˜­",
  "æ³ªå¥”": "ğŸ˜­",
  "å¤§å“­": "ğŸ˜­",
  "æµæ³ª": "ğŸ˜¢",
  "å§”å±ˆ": "ğŸ¥º",
  "å¾®ç¬‘": "ğŸ™‚",
  "ç¬‘å“­": "ğŸ˜‚",
  "å°¬ç¬‘": "ğŸ˜…",
  "é¼“æŒ": "ğŸ‘",
  "ç‚¹èµ": "ğŸ‘",
  "èµ": "ğŸ‘",
  "OK": "ğŸ‘Œ",
  "æ¡æ‰‹": "ğŸ¤",
  "ç”Ÿæ°”": "ğŸ˜ ",
  "æ„¤æ€’": "ğŸ˜ ",
  "æ€’": "ğŸ˜ ",
  "éœ‡æƒŠ": "ğŸ˜®",
  "æƒŠè®¶": "ğŸ˜®",
  "æ€è€ƒ": "ğŸ¤”",
  "æ— è¯­": "ğŸ™„",
  "å˜˜": "ğŸ¤«",
  // å¸¸è§æ¢—ä¸ç¬¦å·
  "ç‹—å¤´": "ğŸ¶",
  "å¿ƒ": "â¤ï¸",
  "çˆ±å¿ƒ": "â¤ï¸",
  "æ¯”å¿ƒ": "ğŸ«°",
  "çœ‹": "ğŸ‘€",
  "æ†¨ç¬‘": "ğŸ˜„",
  "å‘²ç‰™": "ğŸ˜",
  "é…·æ‹½": "ğŸ˜",
  "é»‘è„¸": "ğŸ˜‘",
  "çµæœºä¸€åŠ¨": "ğŸ’¡",
  "ç«ç‘°": "ğŸŒ¹",
  "å®•æœº": "ğŸ¥´",
  "æŠ é¼»": "ğŸ™„",
  "èˆ”å±": "ğŸ˜‹",
  "ä¸å¤±ç¤¼è²Œçš„å¾®ç¬‘": "ğŸ™‚",
  "æˆ‘æƒ³é™é™": "ğŸ˜”",
  "å¤§ç¬‘": "ğŸ˜†",
  "æ„‰å¿«": "ğŸ˜Š",
  "æŠ±æŠ±ä½ ": "ğŸ¤—",
  "å’’éª‚": "ğŸ¤¬",
  "ä¸€èµ·åŠ æ²¹": "ğŸ’ª",
  "666": "ğŸ‘",
  "é€å¿ƒ": "ğŸ’",
  "åç¬‘": "ğŸ˜",
  "å‘å‘†": "ğŸ˜¶",
  "ç–‘é—®": "â“",
  "çŒªå¤´": "ğŸ·",
  "æ„Ÿè°¢": "ğŸ™",
  "å¬æ­Œ": "ğŸ§",
  "è¡°": "ğŸ˜",
  "æš—ä¸­è§‚å¯Ÿ": "ğŸ«£",
  "å¥½å¼€å¿ƒ": "ğŸ˜„",
  "é€å¼ºè½æ³ª": "ğŸ˜¢",
  "é’±": "ğŸ’°",
  "ä¸€å¤´ä¹±éº»": "ğŸ¤¯",
  "æ™•": "ğŸ˜µ",
  "æ’‡å˜´": "ğŸ˜’",
  "èººå¹³": "ğŸ˜´",
  "å¹²é¥­äºº": "ğŸš",
  "è°ƒçš®": "ğŸ˜œ",
  "è‰²": "ğŸ˜",
  "é èº¬": "ğŸ™‡",
  "æœºæ™º": "ğŸ§ ",
  "å°é¼“æŒ": "ğŸ‘",
  "åšé¬¼è„¸": "ğŸ˜",
  "å™¢ä¹°å°¬": "ğŸ˜±",
};

// å°†å½¢å¦‚ã€Œ[æ‚è„¸]ã€ã€Œ[æ³ªä¸æˆå£°]ã€çš„å ä½æ›¿æ¢ä¸º Emojiï¼›ä¿ç•™åŸæ–‡å…¶ä½™å­—ç¬¦
export const parseEmojiAliases = (input: string): string => {
  if (!input) return "";
  return input.replace(/\[(.+?)\]/g, (_, raw: string) => {
    const key = String(raw).trim();
    if (aliasToEmojiMap[key]) return aliasToEmojiMap[key];
    const lower = key.toLowerCase();
    if (aliasToEmojiMap[lower]) return aliasToEmojiMap[lower];
    const prefix = key.split(/[-_/Â·\s]/)[0];
    if (aliasToEmojiMap[prefix]) return aliasToEmojiMap[prefix];
    const lp = prefix.toLowerCase();
    if (aliasToEmojiMap[lp]) return aliasToEmojiMap[lp];
    return `[${key}]`;
  });
};

export default parseEmojiAliases;

 